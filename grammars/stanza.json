{
  "scopeName": "source.stanza",
  "name": "stanza",
  "fileTypes": ["stanza"],
  "patterns": [
    {
      "match": ";.*",
      "name": "comment.line.stanza"
    },
    {
      "match": "^[ \t]*(#define|#if-defined|#if-not-defined|#else)",
      "name": "meta.keyword.compile_time_flags.stanza"
    },
    {
      "match": "[ \t,\\[\\](){}]"
    },
    {
      "match": "-?[0-9][^ \t,.:&|<>\\[\\]{}()]*",
      "name": "constant.numeric.stanza"
    },
    {
      "match": "\"[^\"]*\"",
      "name": "constant.string.quoted.double.stanza"
    },
    {
      "match": "[^ \t0-9~!@#$%^*+-=/.:&|<>][^ \t,.:&|<>\\[\\]{}()]*",
      "captures": {
        "0": {
          "patterns": [
            {
              "match": "^(?:[A-Z][A-Za-z0-9_]*)$",
              "name": "entity.name.type.stanza"
            },
            {
              "match": "^(?:defpackage|deftype|defstruct|defn\\*?|defmulti|defmethod\\*?|defsyntax|defrule|val|var|import|with|public|protected|extern)$",
              "name": "keyword.other.stanza"
            },
            {
              "match": "^(?:if|else|when|switch|match|let|let-var|where|for|while|label|break|generate|yield|try|catch|finally|throw|attempt|fn\\*?|multifn\\*?|qquote)$",
              "name": "keyword.control.stanza"
            },
            {
              "match": "^(new|to|through|by|in|and|or|not|as\\??|is)$",
              "name": "keyword.operator.stanza"
            },
            {
              "match": "^(true|false)$",
              "name": "constant.language.stanza"
            }
          ]
        }
      }
    },
    {
      "match": "[~!@#$%^*+-=/.:&|<>]+(?:[ \t]|$)",
      "name": "keyword.operator.stanza"
    }
  ]
}
